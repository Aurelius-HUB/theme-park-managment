<style>
    .navbar {
        background-color: #343a40;
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: white;
        margin-bottom: 1em; /* Add margin below the navbar */
    }
    .nav-links a {
        color: #f8f9fa;
        text-decoration: none;
        padding: 8px 12px;
        border-radius: 4px;
        transition: background-color 0.2s;
        margin-right: 5px; /* Spacing between links */
    }
    .nav-links a:hover {
        background-color: #495057;
    }
    .user-info {
        font-weight: bold;
    }
    .user-info a {
        color: #dc3545;
        font-weight: bold;
        margin-left: 20px;
        text-decoration: none;
    }
     .user-info a:hover {
        text-decoration: underline;
    }
</style>

<%# The user object is passed to every view from app.js via res.locals %>
<% if (user) { %>
<nav class="navbar">
    <div class="nav-links">
        <a href="/dashboard">Dashboard</a>

		<%# Admin, ALL HR, Park Manager, and Location Manager Links for VIEWING Employees %>
		<% if (user.role === 'Admin' || user.role === 'Head of HR' || user.role === 'HR Staff' || user.role === 'Park Manager' || user.role === 'Location Manager') { %>
		    <a href="/users">Employees</a>
			<% if (user.role === 'Admin' || user.role === 'Head of HR') { %>
			    <a href="/employees/pending" style="color: #ffc107;">Pending Approvals</a>
			<% } %>
		<% } %>

		<%# Admin and Park Manager Links (Park Admin/Events) %>
		<% if (user.role === 'Admin' || user.role === 'Park Manager') { %>
		    <a href="/locations">Locations</a>
		    <a href="/vendors">Vendors</a>
		<%# Show Vendors link separately for Location Manager %>
		<% } else if (user.role === 'Location Manager') { %>
		    <a href="/vendors">Vendors</a>
		<% } %>

		<% if (user.role === 'Admin' || user.role === 'Park Manager') { %>
		    <a href="/memberships/types">Membership Types</a>
            <a href="/ticket-types">Ticket Types</a>
            <a href="/promotions">Promotions</a>
            <a href="/weather">Weather</a>
        <% } %>

		<%# Admin, Park Manager, Vendor Manager, and Location Manager Links (Retail) %>
		<% if (user.role === 'Admin' || user.role === 'Park Manager' || user.role === 'Vendor Manager' || user.role === 'Location Manager') { %>
		<a href="/items">Items</a>
		<a href="/inventory">Inventory</a>
		<% } %>

        <%# Link for viewing Rides (Includes Location Manager) %>
        <% if (user.role === 'Admin' || user.role === 'Park Manager' || user.role === 'Location Manager' || user.role === 'Maintenance' || user.role === 'Staff') { %>
            <a href="/rides">Rides</a>
        <% } %>

        <%# Link for viewing Members (Excludes Maint/Location/Vendor Managers) %>
         <% if (user.role === 'Admin' || user.role === 'Park Manager' || user.role === 'Staff') { %>
            <a href="/members">Members</a>
        <% } %>
    </div>
    <div class="user-info">
        <span>Welcome, <%= user.firstName %> (<%= user.role %>)</span>
        
        <a href="/change-password" style="color: #ffc107;">Change Password</a>
        <a href="/logout">Logout</a>
    </div>
</nav>
<% } else { %>
    <%# Optionally show something minimal if somehow a page requires login but user is null %>
    <nav class="navbar"><div class="nav-links"><a href="/login">Login</a></div></nav>
<% } %>